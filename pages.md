为了完成前端页面，我们需要很多包：
- Vue-router： 作为路由的插件。
- Vuex：管理状态，暂时我不知道究竟是否真的需要它。
- Element-UI：一个组件库。我不知道用什么更好了。
- Axios：作为一个请求库，发送异步HTTP请求向后端请求JSON格式的消息。

没有登录时，所有的访问都被重定向到`/login`登录界面。

登录后，每次加载都会访问`/`控制台界面。这个界面会根据返回的角色不同加载不同的内容。所有界面都应该包含一个「登出」按钮。点击后会清除当前的信息并跳转至`/login`。

我们主要需要以下几个界面：
* 员工页面
* 主管页面
* 经理页面
* 签到页面

签到页面和其余的页面应该是分开的。而员工界面也是应该不同于主管和经理的。
员工像是一个展示型的页面，可以展示几条消息。而主管和经理更像是CURD模版框架。

我们不需要实现的非常复杂，但是要为可能的变化预留出空间。

经理页面包括：
* 一个欢迎页面，包含固定的边栏，内容包括以下。
* 管理用户信息界面。一个表格式的增删改查界面。通过模态框修改信息，比如是否主管之类。在未来支持导入CSV/excel文件。应该对信息分页显示，并且支持按照部门/入职时间等分组排序查看。
* 创建加班活动界面。这里应该可以选择涉及到的员工（全体/部门/个人），并为它们发布加班信息。
* 查看员工上班情况。这里肯定是能够查看所有员工的。和主管需要的内容不同。应该可以通过部门做一些区分。


员工页面包括：
* 一个欢迎界面。右上角有修改信息按钮和登出按钮。可以加入一个头像框。欢迎界面应显示一些重要信息，比如下次工作的时间。这个页面也包含边栏或弹出框。
* 修改信息界面。一个信息展示界面，有很多可以修改和不可修改的信息。可修改的每一大项都有一个「更新」按钮。点击后触发更新逻辑。
* 假期管理界面。在这里可以看到自己之前每次请假对情况。是否准假，是否销假，批准人等等。有一个输入框可以申请假期。
* 加班管理界面。在这里应该能看到之前每次加班申请的详细信息，包括是否被批准，批准后的加班时长等等。并有一个输入框来申请加班。这个和请假的流程是否可以共享一部分组件？关键是，在我国加班也分成三种不同的工资计算方式（平时/周末/法定节假日），这些是否也要区分？
* 查看工作班次安排。这里应该是一个日历组件。在日历上标明每天的工作时间。默认只显示（当前电脑时间）最近一个月的，当触发日历翻页时再请求新的信息。【未来的工作可以是「未安排」或者「按照周期轮转」的，或者按周期轮转也可以设置过期时间】，如果还没有安排，则显示无工作安排。我们应该区分一段上班时间是临时安排的还是周期性的吗？
* 查看自己的上班情况。其实只需要把自己之前一段时间的签到情况用表格列出来即可。往复杂里想，这里应该是一个图表，可以选择按照周/月/总体查看。每天的打卡时间可以画成一条曲线。加班次数、加班总时长、本月是否全勤，请假几次，上次迟到时间、迟到次数、旷工次数、早退时间都可以作为提示项或表格展示。这些应该都提前在后端计算好。全勤可以计算全勤奖，请假可以设置年休假天数，不同的请假计算工资的方式还不一样，这些都需要处理。


主管界面应当包括员工的所有界面，它还应该有以下的扩展：
* 假期审批界面。可以查看本部门每个人提交的请求。
* 加班审批界面。也是一个表格——我希望这些东西都能复用起来。
* 安排工作时间。这是整个项目最复杂的东西了。我们在下面详细说明。
* 调整工作班次。这个和上面的一样。当然，我们希望这里的「调整」是指临时的安排。我们需要知道当天的工作安排都是什么，然后可以有调整、取消、增加等选项。当然我们也可以取消这个临时的工作调整，所以查看时必须能看到哪些是调整后的，调整前的是什么样的。
* 展示所有员工的工作安排。如果工作安排是一样的，那就应该放在一起显示。也应该使用一个日历控件，在点击时显示详细信息。如：2019-5-22，「xx，yy，zz等32人：9:00-21:00.点击进去是一个表格，展示每个人的情况。
* 查看部门的上班情况。这个其实就是查看员工上班状况的扩展。总体是一个表格，展示一些统计数据。点击一个查看详细信息按钮就弹出一个窗口，进入员工查看自己的上班情况的那个页面。

签到页面就是一个单独的界面。需要显示一个框，然后访问摄像头，类似拍照功能，有一个签到按钮，点击按钮后服务器会返回一个消息。告诉你是谁，是否应该签到，是否签到成功，是上班、下班还是加班等等。当然，我们一开始做只需要一个按钮就行，然后调用

如果上班打卡之后，没到下班时间重复打卡如何处理呢？应该可以在某处配置打卡的有效性时间（上下班确切时间之前/延后xx分钟以内算正常）等等。可以让老板设置，也可以让每一个主管设置。

### 关于安排工作时间：
一开始觉得，安排时间不过是设定每个人每一天的上下班时间，但事情并不只是这么简单。我们要为每个人安排多长时间的工作？没安排到的怎么办？怎么处理假期？怎么处理周期性？我们看到有以下的进阶要求：
1. 批量设置部门员工的工作班次安排
2. 复制/粘贴工作班次安排
3. 根据常见的工作时间模式设置员工的工作班次（如：“朝九晚五”、“三班倒”等）
4. 存储和导入以往的工作班次安排。

设置界面就是一个带有复选框的表格，选中后可以点击：「为选中的员工应用工作安排」，之后弹出已有的工作安排列表，主管可以从中选择一个。

为特定的员工设置工作安排也可以，这样会弹出一个窗口。设置之后可以选择「设置并保存此安排」或者「设置」等等。我们也可以加入一个单独的「新建工作安排」的按钮。工作安排应该隶属于一个部门存储在服务器上。

创建工作安排可以从之前的某个安排创建，也可以从基础开始。工作安排可以命名。

一个工作安排应该是带有面板选项卡的一个表格。如果是单次安排，就是一个日历，对每一天（过去和未来）还没有安排的/已经安排的进行操作。如果是一个周期性的，那只需要设置开始日期，然后设置周期长度，再设置每一天的工作安排。以周为单位的安排可以特殊处理（当然，也可以不这么做）。

注意一天的工作安排可能包括多次上班/下班。也就是说一天可能需要刷多次卡。跨越一天的安排也可以，但是应该用某种方式标示出来。有一些效验应在前端完成，比如一次的上班时间不应早于上一次工作的的下班时间。一次工作不能超过24小时等等。

如果是一次性安排，在表格中这个安排的到期时间必须显著的标示出来以让主管注意。

> 有些工作安排实在是有些复杂了。比如说「三班倒，每逢周末休息」这一类的。这样难以定义，我们可以在以后的版本让休息日也可以单独设置成周期性的，然后让周期性的工作安排可以选择忽略休息日。它们的周期可以不同。

> 我们能否修改以前的工作安排？我觉得应该是可以的，但是需要一些复杂操作。在后面的版本应计划支持这种操作。


### 其他

关于时间，每一个修改，包括提出请假，审批请假都应该带上时间戳。
关于权限。每个通过axios发送的请求都在一个拦截器中处理，如果找到不正确的状态码直接修改路由跳转到`/login`。如果是超时就弹出一条消息。

那么现在我需要写一些组件，设定好JSON文件的格式，然后把内容填充进去。我需要设计好每个页面显示什么内容，展示哪些组件，在触发哪些事件的时候会进行路由跳转。
